<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Compute features and similarity scores between cartridge cases based on their breech face impressions">
<title>Compute similarity between cartridge cases • scored</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Compute similarity between cartridge cases">
<meta property="og:description" content="Compute features and similarity scores between cartridge cases based on their breech face impressions">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">scored</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="articles/scored.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.png" class="logo" alt=""><h1 id="scored-">scored <a class="anchor" aria-label="anchor" href="#scored-"></a>
</h1>
</div>
<!-- badges: start -->
<!-- badges: end -->
<p>An R package to compare cartridge cases and compute similarity scores based on their breech face impressions.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of scored from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"jzemmels/scored"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="feature-calculation">Feature Calculation<a class="anchor" aria-label="anchor" href="#feature-calculation"></a>
</h2>
<p>As an example, consider two cartridge cases fired from the same Ruger SR9 semiautomatic 9-mm handgun. Learn more about the collection of these cartridge cases <a href="https://www.ojp.gov/pdffiles1/nij/249874.pdf" class="external-link">here</a>. The cartridge cases are uniquely identified as “K013sA1” and “K013sA2.” We assume that the markings on these cartridge cases left by the handgun during the firing process are similar.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">scored</span><span class="op">)</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">cmcR</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">impressions</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"K013sA1"</span>,<span class="st">"K013sA2"</span><span class="op">)</span></span></code></pre></div>
<p>Below is a visual of the two cartridge case scans. Note that these scans have already undergone some preprocessing to emphasize the breech face impression markings. The similarity between these cartridge cases is not immediately apparent. We can calculate similarity features between these two scans using functions available in the <code>scored</code> package.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/impressions/man/x3pPlot.html" class="external-link">x3pPlot</a></span><span class="op">(</span><span class="va">K013sA1</span>,<span class="va">K013sA2</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-2-1.png" width="100%"></p>
</div>
<div class="section level2">
<h2 id="cell-based-features">Cell-Based Features<a class="anchor" aria-label="anchor" href="#cell-based-features"></a>
</h2>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">comparisonData</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/comparisonHelpers.html">comparison_cellBased</a></span><span class="op">(</span>reference <span class="op">=</span> <span class="va">K013sA1</span>,target <span class="op">=</span> <span class="va">K013sA2</span>,</span>
<span>                                       numCells <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">8</span>,<span class="fl">8</span><span class="op">)</span>,</span>
<span>                                       thetas <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="op">-</span><span class="fl">30</span>,<span class="fl">30</span>,by <span class="op">=</span> <span class="fl">3</span><span class="op">)</span>,</span>
<span>                                       direction <span class="op">=</span> <span class="st">"both"</span>,</span>
<span>                                       returnX3Ps <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="va">comparisonData</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">direction</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/feature_aLaCarte.html">feature_aLaCarte</a></span><span class="op">(</span>features <span class="op">=</span> <span class="st">"all"</span>,eps <span class="op">=</span> <span class="fl">5</span>,minPts <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span>
<span><span class="co">#&gt; Parameter 'threshold' not specified. Defaulting to threshold = 1.</span></span>
<span><span class="co">#&gt;             direction   ccfMean      ccfSD pairwiseCompCorAve pairwiseCompCorSD</span></span>
<span><span class="co">#&gt; 1 reference_vs_target 0.3015478 0.08546018          0.5411682         0.1543828</span></span>
<span><span class="co">#&gt; 2 target_vs_reference 0.2488325 0.07746423          0.5513807         0.1503855</span></span>
<span><span class="co">#&gt;   xTransSD yTransSD thetaRotSD thetaDiff translationDiff clusterSize clusterInd</span></span>
<span><span class="co">#&gt; 1 39.20518  37.7141   19.54130         0        1.159502          11       TRUE</span></span>
<span><span class="co">#&gt; 2 31.77217  26.2262   14.59369         0        1.159502          11       TRUE</span></span>
<span><span class="co">#&gt;   neighborhoodSizeAve_ave neighborhoodSizeAve_sd neighborhoodSizeSD_ave</span></span>
<span><span class="co">#&gt; 1                54.71608               22.58417               135.9947</span></span>
<span><span class="co">#&gt; 2                54.36036               20.13450               138.9213</span></span>
<span><span class="co">#&gt;   neighborhoodSizeSD_sd differenceCor_ave differenceCor_sd filteredRatio_ave</span></span>
<span><span class="co">#&gt; 1              41.95552         0.4287395        0.1986363          2.126379</span></span>
<span><span class="co">#&gt; 2              35.80590         0.3636990        0.2136124          2.218079</span></span>
<span><span class="co">#&gt;   filteredRatio_sd</span></span>
<span><span class="co">#&gt; 1         2.013289</span></span>
<span><span class="co">#&gt; 2         1.405319</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="full-scan-features">Full-Scan Features<a class="anchor" aria-label="anchor" href="#full-scan-features"></a>
</h2>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">comparisonDat_fullScan_estimRotation</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/comparisonHelpers.html">comparison_fullScan</a></span><span class="op">(</span><span class="va">K013sA1</span>,<span class="va">K013sA2</span>,</span>
<span>                                                            returnX3Ps <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                                                            thetas <span class="op">=</span> <span class="op">-</span><span class="fl">3</span><span class="op">)</span></span>
<span></span>
<span><span class="va">comparisonDat_fullScan_estimRotation</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">direction</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/feature_aLaCarte.html">feature_aLaCarte</a></span><span class="op">(</span>features <span class="op">=</span> <span class="st">"all"</span>,eps <span class="op">=</span> <span class="fl">5</span>,minPts <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span>
<span><span class="co">#&gt; Only one cell found. Skipping the density-based feature calculation.</span></span>
<span><span class="co">#&gt; Parameter 'threshold' not specified. Defaulting to threshold = 1.</span></span>
<span><span class="co">#&gt;             direction    ccfMean ccfSD pairwiseCompCorAve pairwiseCompCorSD</span></span>
<span><span class="co">#&gt; 1 reference_vs_target 0.09550923    NA          0.1401430                NA</span></span>
<span><span class="co">#&gt; 2 target_vs_reference 0.27187163    NA          0.4096494                NA</span></span>
<span><span class="co">#&gt;   xTransSD yTransSD thetaRotSD neighborhoodSizeAve_ave neighborhoodSizeAve_sd</span></span>
<span><span class="co">#&gt; 1       NA       NA         NA                74.39877                     NA</span></span>
<span><span class="co">#&gt; 2       NA       NA         NA                97.35443                     NA</span></span>
<span><span class="co">#&gt;   neighborhoodSizeSD_ave neighborhoodSizeSD_sd differenceCor_ave</span></span>
<span><span class="co">#&gt; 1               883.0723                    NA       -0.03441979</span></span>
<span><span class="co">#&gt; 2               822.4063                    NA        0.08575254</span></span>
<span><span class="co">#&gt;   differenceCor_sd filteredRatio_ave filteredRatio_sd</span></span>
<span><span class="co">#&gt; 1               NA          2.534994               NA</span></span>
<span><span class="co">#&gt; 2               NA          4.858481               NA</span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small>GPL (&gt;= 3)</small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing scored</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>
<a href="https://jzemmels.github.io/" class="external-link">Joseph Zemmels</a> <br><small class="roles"> Author, maintainer </small>  </li>
<li>
<a href="https://github.com/heike" class="external-link">Heike Hofmann</a> <br><small class="roles"> Author </small>  </li>
<li>
<a href="https://srvanderplas.netlify.app/" class="external-link">Susan VanderPlas</a> <br><small class="roles"> Author </small>  </li>
<li>
<a href="https://forensicstats.org/" class="external-link">CSAFE</a> <br><small class="roles"> Funder </small>  </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by <a href="https://jzemmels.github.io/" class="external-link">Joseph Zemmels</a>, <a href="https://github.com/heike" class="external-link">Heike Hofmann</a>, <a href="https://srvanderplas.netlify.app/" class="external-link">Susan VanderPlas</a>, <a href="https://forensicstats.org/" class="external-link">CSAFE</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
